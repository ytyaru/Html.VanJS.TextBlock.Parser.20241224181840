<!doctype html>
<html lang="ja" class="light">
  <head>
    <meta charset="utf-8">
    <style>
    html.dark .shiki, html.dark .shiki span {
      color: var(--shiki-dark) !important;
      background-color: var(--shiki-dark-bg) !important;
    }
    </style>
    <script type="module">
    import { codeToHtml } from 'https://esm.sh/shiki@1.24.4'
    window.addEventListener('DOMContentLoaded', async(event)=>{
        const code0 = document.getElementById('code-0')
        code0.innerHTML = await codeToHtml('console.log("Hi, Shiki on CDN :)")', {
          lang: 'js',
          theme: 'rose-pine'
        })

        document.getElementById('code-dark-0').innerHTML = await codeToHtml('console.log("Hi, Shiki on CDN :)")', {
            lang: "js",
            themes: {
                light: "github-light",
                dark: "github-dark-dimmed",
            },
        });
        document.getElementById('change-color-scheme').addEventListener('click', async(e)=>{
            console.log('aaaaaaa')
            const oV = ['light','dark'].some(v=>v===e.target.dataset.value) ? e.target.dataset.value : 'dark'
            const nV = oV==='dark' ? 'light' : 'dark'
            e.target.dataset.value = nV
            const html = document.querySelector('html')
            html.classList.remove(oV)
            html.classList.add(nV)
        })
    })
    </script>
  </head>
  <body>
  <button id="change-color-scheme" data-value="light">モード切替</button>
  <div id="code-0"></div>
  <div id="code-dark-0"></div>
  <!--<pre><code id="code-0"></code></pre>-->
  </body>
</html>
